(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{20584:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(26374)}])},65146:function(e,s,i){"use strict";var t=i(87645),l=i(52983),n=i(8429);let r=e=>{let{loginSource:s}=e;return(0,l.useEffect)(()=>{var e,i;let l=()=>{window.google.accounts.id.initialize({client_id:"60244564555-30175ip7vg79fobh0rk1sur3pdutj9l1.apps.googleusercontent.com",callback:o,auto_select:!0}),window.google.accounts.id.prompt()},r=(0,n.Uz)(window.location.href,"login-source",s),o=async e=>{await (0,t.signIn)("googleonetap",{credential:e.credential,callbackUrl:r})};if(null===(e=window.google)||void 0===e||null===(i=e.accounts)||void 0===i||!i.id)return window.addEventListener("google.accounts.id.loaded",l),()=>{window.removeEventListener("google.accounts.id.loaded",l)};l()},[]),null};s.Z=r},50269:function(e,s,i){"use strict";var t=i(97458),l=i(87645);i(52983);var n=i(78309),r=i(65114),o=i(94112),a=i(89650),c=i(7321),d=i(94835),u=i(66713),m=i(96449),x=i(33131);let h=e=>{let{}=e,{openModal:s}=(0,n.X)(),{data:i}=(0,l.useSession)(),{isAndroid:h,isIOS:f}=(0,c.Fy)(),{isMobileStyle:p}=(0,d.d)();return i?null:(0,t.jsxs)("div",{className:"flex items-center gap-x-sm pb-md pt-sm",children:[f&&(0,t.jsx)(u.Z,{fullWidth:!0,isMobileStyle:p,text:"Get iPhone App",variant:"common",size:"small",href:m.Fv,icon:o.Av}),h&&(0,t.jsx)(u.Z,{fullWidth:!0,isMobileStyle:p,text:"Get Android App",variant:"common",size:"small",href:m.Wn,icon:r.us}),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(u.Z,{isMobileStyle:p,size:"small",variant:"common",fullWidth:!0,icon:a.BE,text:"Sign In",onClick:()=>s("loginModal",{origin:x.FM.MOBILE_SIGNUP})})})]})};s.Z=h},79629:function(e,s,i){"use strict";var t=i(97458),l=i(87645),n=i(52983),r=i(44584),o=i(7884),a=i(14338),c=i(9346),d=i(94835),u=i(64696),m=i(23647),x=i(25454),h=i(63820),f=i(66713);let p=e=>{let{}=e,{update:s}=(0,l.useSession)(),[i,p]=(0,n.useState)(!1),v=(0,r.useRouter)(),{isMobileStyle:j}=(0,d.d)(),g=(0,n.useCallback)(async()=>{await v.push("/"),window.location.reload()},[v]);return(0,n.useEffect)(()=>{"success"===v.query.stripe_checkout&&(p(!0),s())},[]),(0,n.useEffect)(()=>{localStorage.removeItem("referral_code"),localStorage.removeItem("referral_code_expiry")},[]),(0,t.jsx)(u.Z,{isOpen:i,onClose:()=>p(!1),variant:"hide-chrome",isMobileStyle:j,children:(0,t.jsxs)(m.ZP,{variant:"background",className:" max-w-screen-md rounded-xl animate-in fade-in duration-1000 ease-out",children:[(0,t.jsxs)("div",{className:"px-2xl pt-2xl text-center ",children:[(0,t.jsxs)("div",{className:"mb-lg flex flex-col items-center justify-center",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)(x.Z,{size:"xl",variant:"text",isPro:!0})}),(0,t.jsx)(h.Z,{variant:"section-title",color:"light",className:"mt-md",children:"Your subscription begins now"})]}),(0,t.jsx)(f.Z,{size:"large",variant:"primary",text:"Get Started",icon:a.eF,pill:!0,onClick:g,isMobileStyle:j})]}),(0,t.jsxs)(m.ZP,{variant:"offset",className:"mt-xl rounded-b-xl px-lg py-lg",children:[(0,t.jsxs)(m.ZP,{className:"mb-md flex items-center justify-between border-b pb-md",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{variant:"section-title",className:"",children:"Set your preferred AI Model"}),(0,t.jsx)(h.Z,{color:"light",children:"Choose between Perplexity, Claude 2, and GPT-4"})]}),(0,t.jsx)(f.Z,{size:"small",href:"/settings/account",text:"Settings",icon:c.b7,onClick:()=>p(!1),isMobileStyle:j})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{variant:"section-title",className:"mb-sm",children:"Refer a friend and you both get a discount. Give $10, get $10."}),(0,t.jsx)(o.Z,{mini:!0})]})]})]})})};s.Z=p},26374:function(e,s,i){"use strict";i.r(s),i.d(s,{__N_SSP:function(){return F},default:function(){return q}});var t=i(97458),l=i(87645),n=i(52983),r=i(95914),o=i(25967),a=i.n(o),c=i(44584),d=i(12150),u=i(83397),m=i(35538),x=i(65146),h=i(97381),f=i(73134),p=i(41969),v=i(65114),j=i(94112),g=i(21034),N=i(7321),w=i(94835),b=i(64696),E=i(63820),I=i(25454),A=i(66713),y=i(51865),Z=i.n(y);let T=e=>{let{}=e,{isIOS:s}=(0,N.Fy)(),i=s?j.Av:v.us,[l,r]=(0,n.useState)(!1),{isMobileStyle:o}=(0,w.d)(),c=(0,p.W)(),{discountCode:d}=(0,f.P)(),u=()=>{r(!1),sessionStorage.setItem("appDownloadBannerDismissed","true")};return(0,n.useEffect)(()=>{c||"true"===sessionStorage.getItem("appDownloadBannerDismissed")||"/pro"===window.location.pathname||Boolean(d)?r(!1):r(!0)},[c,d]),(0,t.jsx)(b.Z,{isOpen:l,onClose:u,variant:"bottom-sheet",isMobileStyle:o,children:(0,t.jsxs)("div",{className:"flex h-full grow flex-col",children:[(0,t.jsxs)("div",{className:"grow pt-md text-center",children:[(0,t.jsx)(E.Z,{variant:"display",children:s?"Get the iPhone App":"Get the Android App"}),(0,t.jsx)(E.Z,{variant:"section-title",color:"light",children:"Faster and more powerful"})]}),(0,t.jsx)(a(),{className:"box",href:"/download-mobile",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-x-md py-lg",children:[(0,t.jsx)("div",{className:Z()("inline-block  border border-borderMainDark bg-backgroundDark",{"rounded-xl p-sm":s,"rounded-full p-md":!s}),children:(0,t.jsx)("div",{className:"flex aspect-square w-12 items-center justify-center",children:(0,t.jsx)(I.Z,{variant:"mark",size:"md",color:"white"})})}),(0,t.jsxs)("div",{className:"-mt-xs",children:[(0,t.jsx)(E.Z,{variant:"baseSemi",children:"Perplexity"}),(0,t.jsx)(E.Z,{variant:"small",color:"light",children:"Search and discovery with AI"}),(0,t.jsx)(E.Z,{variant:"small",children:(0,t.jsxs)("div",{className:"flex items-center gap-x-xs text-orange-400",children:[(0,t.jsx)(h.G,{icon:g.T}),(0,t.jsx)(h.G,{icon:g.T}),(0,t.jsx)(h.G,{icon:g.T}),(0,t.jsx)(h.G,{icon:g.T}),(0,t.jsx)(h.G,{icon:g.T}),(0,t.jsxs)(E.Z,{variant:"tiny",color:"light",className:"flex items-center gap-xs pl-1 pt-1",children:[(0,t.jsx)("span",{children:"4.9"}),(0,t.jsx)("span",{className:"text-[8px]",children:"â€¢"}),(0,t.jsx)("span",{children:"6.3K Ratings"})]})]})})]})]})}),(0,t.jsx)(A.Z,{isMobileStyle:o,fullWidth:!0,pill:!0,variant:"primary",icon:i,text:"Get App",href:"/download-mobile"})]})})};var _=i(50269),R=i(79629),D=i(76071),S=i(59011),M=i(14808),k=i(57881),C=i(78309),P=i(78476),G=i(33131),O=i(23647);function W(){return(W=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var V=i(53573);let z=e=>{var s;let{helperQueries:i}=e,{data:o}=(0,l.useSession)(),h=(0,p.W)(),f=(0,k.lG)(),{isIOS:g}=(0,N.Fy)(),{isMobileStyle:b,isMobileUserAgent:y}=(0,w.d)(),{value:Z,...W}=(0,S.Z)({}),z=g?j.Av:v.us,F=(0,c.useRouter)(),[q,B]=(0,n.useState)(null),{removeItemFromSidebar:X}=(0,M.f)(),{currentOpenedModal:H}=(0,C.X)(),L=(0,r.useTranslations)("main"),U=(0,n.useMemo)(()=>F.query.error,[F.query.error]),Q=(0,n.useMemo)(()=>F.query.id,[F.query.id]);return(0,n.useEffect)(()=>{if(U){let e=F.query.error,s=P.rm[e];B(s),F.push({},void 0,{shallow:!0})}Q&&"string"==typeof Q&&X(Q)},[U,Q,X,F]),(0,t.jsxs)(u.Z,{mobileDefaultHeader:!1,fillHeight:!0,children:[!f&&!y&&(0,t.jsx)(x.Z,{loginSource:G.FM.GOOGLE_ONETAP_HOME}),(0,t.jsxs)("div",{className:"relative flex h-full flex-col",children:[(0,t.jsxs)(O.ZP,{className:"flex items-center justify-between border-b py-lg md:hidden",children:[(0,t.jsx)(I.Z,{color:"mixed",isPro:h}),(0,t.jsxs)("div",{className:"flex items-center gap-x-sm",children:[y&&(0,t.jsx)(A.Z,{isMobileStyle:b,size:"small",icon:z,text:"Get App",pill:!0,variant:"primary",href:"/download-mobile"}),f&&(0,t.jsx)(a(),{href:"/settings/account",children:(0,t.jsx)(D.Z,{size:"medium",user:null!==(s=null==o?void 0:o.user.image)&&void 0!==s?s:void 0,isMobileStyle:b})})]})]}),(0,t.jsx)(O.ZP,{className:"-mt-2xl flex w-full grow items-center md:mt-0",children:(0,t.jsx)("div",{className:"mb-lg w-full md:mb-xl",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"mb-lg flex items-center justify-center pb-xs md:text-center",children:(0,t.jsx)(E.Z,{children:(0,t.jsx)("span",{className:"font-regular font-display text-4xl",children:L("bigTitle")})})}),(0,t.jsx)(d.Z,{...W,value:Z,querySource:"home",defaultTall:!0,autofocus:null===H,hasShadow:!0,showFileUpload:!0,showAssistants:!0,showAutosuggest:!0,showCopilotToggle:!0,showHelperQueries:!0,helperQueries:i})]})})}),(0,t.jsx)("div",{className:"hidden pb-md md:block",children:(0,t.jsx)(m.Z,{})})]}),!f&&(0,t.jsx)(O.ZP,{variant:"background",className:"fixed bottom-0 left-0 right-0 z-20 border-t px-sm pb-sm md:hidden",children:(0,t.jsx)(_.Z,{})}),(0,t.jsx)(R.Z,{}),y&&(0,t.jsx)(T,{}),(0,t.jsx)(V.Z,{isVisible:null!=q,variant:"error",message:q,timeout:3})]})};var F=!0,q=z},78476:function(e,s,i){"use strict";var t,l,n,r;function o(e){return e===t.OWNER}function a(e){return e>=t.WRITER&&e<t.INVITED_READER}function c(e){return[t.INVITED_READER,t.INVITED_WRITER,t.INVITED_ADMIN].includes(e)}function d(e){let s=e.owner_user,i=e.contributor_users,l=[],n=[];return null==i||i.forEach(e=>{e.permission===t.INVITED_READER||e.permission===t.INVITED_WRITER||e.permission===t.INVITED_ADMIN?l.push(e):n.push(e)}),{ownerUser:s,contributorUsers:n,invitedUsers:l}}i.d(s,{XJ:function(){return t},gO:function(){return d},hf:function(){return a},mF:function(){return o},rj:function(){return c},rm:function(){return u}}),(n=t||(t={}))[n.NONE=0]="NONE",n[n.READER=1]="READER",n[n.WRITER=2]="WRITER",n[n.ADMIN=3]="ADMIN",n[n.OWNER=4]="OWNER",n[n.INVITED_READER=11]="INVITED_READER",n[n.INVITED_WRITER=12]="INVITED_WRITER",n[n.INVITED_ADMIN=13]="INVITED_ADMIN",(r=l||(l={})).ThreadAccessNotAllowed="ThreadAccessNotAllowed",r.InvalidThread="InvalidThread",r.ArticleAccessNotAllowed="ArticleAccessNotAllowed",r.CollectionAccessNotAllowed="CollectionAccessNotAllowed",r.InvalidCollection="InvalidCollection";let u={[l.ThreadAccessNotAllowed]:"Cannot view this thread",[l.InvalidThread]:"This thread does not exist.",[l.ArticleAccessNotAllowed]:"Cannot view this article",[l.CollectionAccessNotAllowed]:"Cannot view this collection",[l.InvalidCollection]:"This collection does not exist."}}},function(e){e.O(0,[5114,3397,9774,2888,179],function(){return e(e.s=20584)}),_N_E=e.O()}]);